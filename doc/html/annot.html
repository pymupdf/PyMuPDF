

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Annot &mdash; PyMuPDF 1.10.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/pymupdf.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="PyMuPDF 1.10.0 documentation" href="index.html"/>
        <link rel="up" title="Classes" href="classes.html"/>
        <link rel="next" title="Colorspace" href="colorspace.html"/>
        <link rel="prev" title="Classes" href="classes.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> PyMuPDF
          

          
            
            <img src="_static/pymupdf.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.10
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="changes.html">Changes in Version 1.10.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="changes.html#changes-in-version-1-9-3">Changes in Version 1.9.3</a></li>
<li class="toctree-l1"><a class="reference internal" href="changes.html#changes-in-version-1-9-2">Changes in Version 1.9.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="changes.html#changes-in-version-1-9-1">Changes in Version 1.9.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="classes.html">Classes</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Annot</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="colorspace.html">Colorspace</a></li>
<li class="toctree-l2"><a class="reference internal" href="document.html">Document</a></li>
<li class="toctree-l2"><a class="reference internal" href="identity.html">Identity</a></li>
<li class="toctree-l2"><a class="reference internal" href="irect.html">IRect</a></li>
<li class="toctree-l2"><a class="reference internal" href="link.html">Link</a></li>
<li class="toctree-l2"><a class="reference internal" href="linkdest.html">linkDest</a></li>
<li class="toctree-l2"><a class="reference internal" href="matrix.html">Matrix</a></li>
<li class="toctree-l2"><a class="reference internal" href="outline.html">Outline</a></li>
<li class="toctree-l2"><a class="reference internal" href="page.html">Page</a></li>
<li class="toctree-l2"><a class="reference internal" href="pixmap.html">Pixmap</a></li>
<li class="toctree-l2"><a class="reference internal" href="point.html">Point</a></li>
<li class="toctree-l2"><a class="reference internal" href="rect.html">Rect</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="lowlevel.html">Low Level Functions and Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="vars.html">Constants and Enumerations</a></li>
<li class="toctree-l1"><a class="reference internal" href="app1.html">Appendix 1: Performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="app2.html">Appendix 2: Details on Text Extraction</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">PyMuPDF</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="classes.html">Classes</a> &raquo;</li>
      
    <li>Annot</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="annot">
<span id="id1"></span><h1>Annot<a class="headerlink" href="#annot" title="Permalink to this headline">¶</a></h1>
<p>Quote from the Adobe manual: &quot;An annotation associates an object such as a note, sound, or movie with a location on a page of a PDF document, or provides a way to interact with the user by means of the mouse and keyboard.&quot;</p>
<p>This class supports accessing such annotations - not only for PDF files, but for all MuPDF supported document types. However, only a few methods and properties apply to non-PDF documents.</p>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Attribute</strong></th>
<th class="head"><strong>Short Description</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#Annot.getPixmap" title="Annot.getPixmap"><code class="xref py py-meth docutils literal"><span class="pre">Annot.getPixmap()</span></code></a></td>
<td>image of the annotation as a pixmap</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#Annot.setInfo" title="Annot.setInfo"><code class="xref py py-meth docutils literal"><span class="pre">Annot.setInfo()</span></code></a></td>
<td>PDF only: change metadata of an annotation</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#Annot.setBorder" title="Annot.setBorder"><code class="xref py py-meth docutils literal"><span class="pre">Annot.setBorder()</span></code></a></td>
<td>PDF only: changes the border of an annotation</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#Annot.setLineEnds" title="Annot.setLineEnds"><code class="xref py py-meth docutils literal"><span class="pre">Annot.setLineEnds()</span></code></a></td>
<td>PDF only: changes the line ends of an annotation</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#Annot.setFlags" title="Annot.setFlags"><code class="xref py py-meth docutils literal"><span class="pre">Annot.setFlags()</span></code></a></td>
<td>PDF only: changes the flags of an annotation</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#Annot.setRect" title="Annot.setRect"><code class="xref py py-meth docutils literal"><span class="pre">Annot.setRect()</span></code></a></td>
<td>PDF only: changes the rectangle of an annotation</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#Annot.setColors" title="Annot.setColors"><code class="xref py py-meth docutils literal"><span class="pre">Annot.setColors()</span></code></a></td>
<td>PDF only: changes the colors of an annotation</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#Annot.updateImage" title="Annot.updateImage"><code class="xref py py-meth docutils literal"><span class="pre">Annot.updateImage()</span></code></a></td>
<td>PDF only: applies border and color values to shown image</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#Annot.border" title="Annot.border"><code class="xref py py-attr docutils literal"><span class="pre">Annot.border</span></code></a></td>
<td>PDF only: border details</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#Annot.colors" title="Annot.colors"><code class="xref py py-attr docutils literal"><span class="pre">Annot.colors</span></code></a></td>
<td>PDF only: border / background and fill colors</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#Annot.flags" title="Annot.flags"><code class="xref py py-attr docutils literal"><span class="pre">Annot.flags</span></code></a></td>
<td>PDF only: annotation flags</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#Annot.info" title="Annot.info"><code class="xref py py-attr docutils literal"><span class="pre">Annot.info</span></code></a></td>
<td>PDF only: various information</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#Annot.lineEnds" title="Annot.lineEnds"><code class="xref py py-attr docutils literal"><span class="pre">Annot.lineEnds</span></code></a></td>
<td>PDF only: start / end appearance of line-type annotations</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#Annot.next" title="Annot.next"><code class="xref py py-attr docutils literal"><span class="pre">Annot.next</span></code></a></td>
<td>link to the next annotation</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#Annot.parent" title="Annot.parent"><code class="xref py py-attr docutils literal"><span class="pre">Annot.parent</span></code></a></td>
<td>page object of the annotation</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#Annot.rect" title="Annot.rect"><code class="xref py py-attr docutils literal"><span class="pre">Annot.rect</span></code></a></td>
<td>rectangle containing the annotation</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#Annot.type" title="Annot.type"><code class="xref py py-attr docutils literal"><span class="pre">Annot.type</span></code></a></td>
<td>PDF only: type of the annotation</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#Annot.vertices" title="Annot.vertices"><code class="xref py py-attr docutils literal"><span class="pre">Annot.vertices</span></code></a></td>
<td>PDF only: point coordinates of Polygons, PolyLines, etc.</td>
</tr>
</tbody>
</table>
<p><strong>Class API</strong></p>
<dl class="class">
<dt id="Annot">
<em class="property">class </em><code class="descname">Annot</code><a class="headerlink" href="#Annot" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="Annot.getPixmap">
<code class="descname">getPixmap</code><span class="sig-paren">(</span><em>matrix = fitz.Ientity</em>, <em>colorspace = fitz.csRGB</em>, <em>alpha = False</em><span class="sig-paren">)</span><a class="headerlink" href="#Annot.getPixmap" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a pixmap from the annotation as it appears on the page in untransformed coordinates. The pixmap's <a class="reference internal" href="irect.html#irect"><span class="std std-ref">IRect</span></a> equals <code class="docutils literal"><span class="pre">Annot.rect.round()</span></code> (see below).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>matrix</strong> (<a class="reference internal" href="matrix.html#matrix"><span class="std std-ref">Matrix</span></a>) -- a matrix to be used for image creation. Default is the <code class="docutils literal"><span class="pre">fitz.Identity</span></code> matrix.</li>
<li><strong>colorspace</strong> (<a class="reference internal" href="colorspace.html#colorspace"><span class="std std-ref">Colorspace</span></a>) -- a colorspace to be used for image creation. Default is <code class="docutils literal"><span class="pre">fitz.csRGB</span></code>.</li>
<li><strong>alpha</strong> (<em>bool</em>) -- whether to include transparency information. Default is <code class="docutils literal"><span class="pre">False</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="pixmap.html#pixmap"><span class="std std-ref">Pixmap</span></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Annot.setInfo">
<code class="descname">setInfo</code><span class="sig-paren">(</span><em>d</em><span class="sig-paren">)</span><a class="headerlink" href="#Annot.setInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Changes the info dictionary. This is includes dates, contents, subject and author (title). Changes for <code class="docutils literal"><span class="pre">name</span></code> will be ignored.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>d</strong> (<em>dict</em>) -- a dictionary compatible with the <code class="docutils literal"><span class="pre">info</span></code> property (see below). Plausibility checks are kept to a minimum - except all entries must be <code class="docutils literal"><span class="pre">unicode</span></code>, <code class="docutils literal"><span class="pre">bytes</span></code>, or strings. If <code class="docutils literal"><span class="pre">bytes</span></code> values are provided in Python 3, they will be treated as being UTF8 encoded.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Annot.setLineEnds">
<code class="descname">setLineEnds</code><span class="sig-paren">(</span><em>start</em>, <em>end</em><span class="sig-paren">)</span><a class="headerlink" href="#Annot.setLineEnds" title="Permalink to this definition">¶</a></dt>
<dd><p>Changes the line ending styles (of annotation types where this makes sense).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>start</strong> (<em>int</em>) -- an integer specifying the line start style. See <a class="reference internal" href="vars.html#annotation-line-ends"><span class="std std-ref">Annotation Line End Styles</span></a> for acceptable values.</li>
<li><strong>end</strong> (<em>int</em>) -- an integer specifying the line end style. See <a class="reference internal" href="vars.html#annotation-line-ends"><span class="std std-ref">Annotation Line End Styles</span></a> for acceptable values.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Annot.setRect">
<code class="descname">setRect</code><span class="sig-paren">(</span><em>rect</em><span class="sig-paren">)</span><a class="headerlink" href="#Annot.setRect" title="Permalink to this definition">¶</a></dt>
<dd><p>Changes the rectangle of an annotation. The annotation can be moved around and both sides of the rectangle can be independently scaled. However, the annotation appearance will never get rotated, flipped or sheared.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>rect</strong> (<a class="reference internal" href="rect.html#rect"><span class="std std-ref">Rect</span></a>) -- the new rectangle of the annotation. This could e.g. be a rectangle <code class="docutils literal"><span class="pre">rect</span> <span class="pre">=</span> <span class="pre">Annot.rect</span> <span class="pre">*</span> <span class="pre">M</span></code> with a suitable <a class="reference internal" href="matrix.html#matrix"><span class="std std-ref">Matrix</span></a> M (only scaling and translating will yield the expected effect).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Annot.setBorder">
<code class="descname">setBorder</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#Annot.setBorder" title="Permalink to this definition">¶</a></dt>
<dd><p>PDF only: Change border width and dashing properties. Any other border properties will be deleted.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> (<em>number or dictionary</em>) -- a number or a dictionary specifying the desired border properties. If a dictionary is provided, it must be of a format as explained for property <code class="docutils literal"><span class="pre">annot.border</span></code>. If a number is specified or a dictionary like <code class="docutils literal"><span class="pre">{&quot;width&quot;:</span> <span class="pre">w}</span></code>, only border width will be changed and any dashes will remain unchanged. Conversely, with a dictionary <code class="docutils literal"><span class="pre">{&quot;dashes&quot;:</span> <span class="pre">[...]}</span></code>, only line dashing will be changed. To remove dashing and get a straight line, specify an empty list <code class="docutils literal"><span class="pre">[]</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Annot.setFlags">
<code class="descname">setFlags</code><span class="sig-paren">(</span><em>flags</em><span class="sig-paren">)</span><a class="headerlink" href="#Annot.setFlags" title="Permalink to this definition">¶</a></dt>
<dd><p>Changes the flags of the annotation. See <a class="reference internal" href="vars.html#annotation-flags"><span class="std std-ref">Annotation Flags</span></a> for possible values and use the <code class="docutils literal"><span class="pre">|</span></code> operator to combine several.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>flags</strong> (<em>int</em>) -- an integer specifying the required flags.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Annot.setColors">
<code class="descname">setColors</code><span class="sig-paren">(</span><em>d</em><span class="sig-paren">)</span><a class="headerlink" href="#Annot.setColors" title="Permalink to this definition">¶</a></dt>
<dd><p>Changes the colors associated with the annotation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>d</strong> (<em>dict</em>) -- a dictionary containing color specifications. For accepted dictionary keys and values see below. The most practical way should be to first make a copy of the <code class="docutils literal"><span class="pre">colors</span></code> property and then modify this dictionary as required.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Annot.updateImage">
<code class="descname">updateImage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Annot.updateImage" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempts to modify the displayed graphical image such that it coincides with the values currently contained in the <code class="docutils literal"><span class="pre">border</span></code> and <code class="docutils literal"><span class="pre">colors</span></code> properties. This is achieved by modifying the contents stream of the associated appearance <code class="docutils literal"><span class="pre">XObject</span></code>. If this stream contains unsupported commands (like nested invocations of yet another <code class="docutils literal"><span class="pre">XObject</span></code>), a <code class="docutils literal"><span class="pre">ValueError</span></code> exception is raised.</p>
</dd></dl>

<dl class="attribute">
<dt id="Annot.parent">
<code class="descname">parent</code><a class="headerlink" href="#Annot.parent" title="Permalink to this definition">¶</a></dt>
<dd><p>The owning page object of the annotation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="page.html#page"><span class="std std-ref">Page</span></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="Annot.rect">
<code class="descname">rect</code><a class="headerlink" href="#Annot.rect" title="Permalink to this definition">¶</a></dt>
<dd><p>The rectangle containing the annotation in untransformed coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="rect.html#rect"><span class="std std-ref">Rect</span></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="Annot.next">
<code class="descname">next</code><a class="headerlink" href="#Annot.next" title="Permalink to this definition">¶</a></dt>
<dd><p>The next annotation on this page or <code class="docutils literal"><span class="pre">None</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal"><span class="pre">Annot</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="Annot.type">
<code class="descname">type</code><a class="headerlink" href="#Annot.type" title="Permalink to this definition">¶</a></dt>
<dd><p>Meaningful for PDF only: A number and one or two strings describing the annotation type, like <code class="docutils literal"><span class="pre">[2,</span> <span class="pre">'FreeText',</span> <span class="pre">'FreeTextCallout']</span></code>. The second string entry is optional and may be empty. <code class="docutils literal"><span class="pre">[]</span></code> if not PDF. See the appendix <a class="reference internal" href="vars.html#annotation-types"><span class="std std-ref">Annotation Types</span></a> for a list of possible values and their meanings.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="Annot.info">
<code class="descname">info</code><a class="headerlink" href="#Annot.info" title="Permalink to this definition">¶</a></dt>
<dd><p>Meaningful for PDF only: A dictionary containing various information. All fields are unicode or strings (Python 2 or Python 3 respectively).</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">name</span></code> - e.g. for <code class="docutils literal"><span class="pre">[12,</span> <span class="pre">'Stamp']</span></code> type annotations it will contain the stamp text like <code class="docutils literal"><span class="pre">Sold</span></code> or <code class="docutils literal"><span class="pre">Experimental</span></code>.</li>
<li><code class="docutils literal"><span class="pre">content</span></code> - a string containing the text for type <code class="docutils literal"><span class="pre">Text</span></code> and <code class="docutils literal"><span class="pre">FreeText</span></code> annotations. For <code class="docutils literal"><span class="pre">FileAttachment</span></code> it contains the filename. For other types the entry is optional. Empty if not specified or not a PDF.</li>
<li><code class="docutils literal"><span class="pre">title</span></code> - a string containing the title of the annotation pop-up window. By convention, this is used for the annotation author.</li>
<li><code class="docutils literal"><span class="pre">creationDate</span></code> - the PDF timestamp of creation.</li>
<li><code class="docutils literal"><span class="pre">modDate</span></code> - the PDF timestamp of last change.</li>
<li><code class="docutils literal"><span class="pre">subject</span></code> - the subject, an optional string.</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="Annot.flags">
<code class="descname">flags</code><a class="headerlink" href="#Annot.flags" title="Permalink to this definition">¶</a></dt>
<dd><p>Meaningful for PDF only: An integer whose low order bits contain flags for how the annotation should be presented. See section <a class="reference internal" href="vars.html#annotation-flags"><span class="std std-ref">Annotation Flags</span></a> for details.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="Annot.lineEnds">
<code class="descname">lineEnds</code><a class="headerlink" href="#Annot.lineEnds" title="Permalink to this definition">¶</a></dt>
<dd><p>Meaningful for PDF only: A dictionary specifying the starting and the ending appearance of annotations of types <code class="docutils literal"><span class="pre">Line</span></code>, <code class="docutils literal"><span class="pre">PolyLine</span></code>, among others. An example would be <code class="docutils literal"><span class="pre">{'start':</span> <span class="pre">'None',</span> <span class="pre">'end':</span> <span class="pre">'OpenArrow'}</span></code>. <code class="docutils literal"><span class="pre">{}</span></code> if not specified or not applicable. For possible values and descriptions in this list, see the Adobe manual, table 8.27 on page 630.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="Annot.vertices">
<code class="descname">vertices</code><a class="headerlink" href="#Annot.vertices" title="Permalink to this definition">¶</a></dt>
<dd><p>Meaningful for PDF only: A list containing point (&quot;vertices&quot;) coordinates for various types of annotations: For &quot;Line&quot; it contains the starting and ending coordinates. For <code class="docutils literal"><span class="pre">[2,</span> <span class="pre">'FreeText',</span> <span class="pre">'FreeTextCallout']</span></code> it contains 4 or 6 floats designating the starting, the (optional) knee point, and the ending coordinates. For &quot;PolyLine&quot; and &quot;Polygon&quot; it contains the coordinates of the edges connected by line pieces. For &quot;Ink&quot; (freehand drawing) it contains one to many lists of vertex coordinates. Each such sublist represents a separate line in the drawing. <code class="docutils literal"><span class="pre">[]</span></code> when not applicable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="Annot.colors">
<code class="descname">colors</code><a class="headerlink" href="#Annot.colors" title="Permalink to this definition">¶</a></dt>
<dd><p>Meaningful for PDF only: A dictionary of two lists of floats in range <code class="docutils literal"><span class="pre">0</span> <span class="pre">&lt;=</span> <span class="pre">float</span> <span class="pre">&lt;=</span> <span class="pre">1</span></code> specifying the common (<code class="docutils literal"><span class="pre">common</span></code>) and the interior (<code class="docutils literal"><span class="pre">fill</span></code>) colors. The common color is used for borders, and in some cases also for backgrounds. The fill color is used for the interior of objects like line ends, circles and squares. The lengths of the lists determine the colorspaces used: 1 = GRAY, 3 = RGB, 4 = CMYK. So <code class="docutils literal"><span class="pre">[1.0,</span> <span class="pre">0.0,</span> <span class="pre">0.0]</span></code> stands for RGB and color <code class="docutils literal"><span class="pre">red</span></code>. Both lists can be <code class="docutils literal"><span class="pre">[]</span></code> if not specified. The dictionary will be empty <code class="docutils literal"><span class="pre">{}</span></code> if no PDF. The value of each float stands for the &quot;intensity&quot; of the represented color byte, meaning 1 corresonds to 255, 0.5 to 128, 0.25 to 64 and so forth.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="Annot.border">
<code class="descname">border</code><a class="headerlink" href="#Annot.border" title="Permalink to this definition">¶</a></dt>
<dd><p>Meaningful for PDF only: A dictionary containing border characteristics. It will be empty <code class="docutils literal"><span class="pre">{}</span></code> if not PDF or when no border information is provided. Technically, the PDF entries <code class="docutils literal"><span class="pre">/Border</span></code>, <code class="docutils literal"><span class="pre">/BS</span></code> and <code class="docutils literal"><span class="pre">/BE</span></code> will be checked to build this information. The following optional keys may be contained:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">width</span></code> - a float indicating the border thickness in points.</li>
<li><code class="docutils literal"><span class="pre">effect</span></code> - a list specifying a border line effect like <code class="docutils literal"><span class="pre">[1,</span> <span class="pre">'C']</span></code>. The first entry &quot;intensity&quot; is an integer (from 0 to 2 for maximum intensity). The second is either 'S' for &quot;no effect&quot; or 'C' for a &quot;cloudy&quot; line.</li>
<li><code class="docutils literal"><span class="pre">dashes</span></code> - a list of up to 4 integer entries specifying a line dash pattern like in <code class="docutils literal"><span class="pre">[3,</span> <span class="pre">2]</span></code>. This example specifies 3-point dashes alternating with 2-point gaps. See the Adobemanual page 217 for details.</li>
<li><code class="docutils literal"><span class="pre">style</span></code> - 1-byte border style: <code class="docutils literal"><span class="pre">S</span></code> (Solid) = solid rectangle surrounding the annotation, <code class="docutils literal"><span class="pre">D</span></code> (Dashed) = dashed rectangle surrounding the annotation, the dash pattern is specified by the <code class="docutils literal"><span class="pre">dashes</span></code> entry, <code class="docutils literal"><span class="pre">B</span></code> (Beveled) = a simulated embossed rectangle that appears to be raised above the surface of the page, <code class="docutils literal"><span class="pre">I</span></code> (Inset) = a simulated engraved rectangle that appears to be recessed below the surface of the page, <code class="docutils literal"><span class="pre">U</span></code> (Underline) = a single line along the bottom of the annotation rectangle.</li>
<li><code class="docutils literal"><span class="pre">hradius</span></code> - horizontal corner radius. Zero means square (un-rounded) corners.</li>
<li><code class="docutils literal"><span class="pre">vradius</span></code> - vertical coner radius.  Zero means square (un-rounded) corners.</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>Change the graphical image of an annotation. Also update the &quot;author&quot; and the text to be shown in the popup window:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">doc</span> <span class="o">=</span> <span class="n">fitz</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;circle-in.pdf&quot;</span><span class="p">)</span>
<span class="n">page</span> <span class="o">=</span> <span class="n">doc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>                          <span class="c1"># page 0</span>
<span class="n">annot</span> <span class="o">=</span> <span class="n">page</span><span class="o">.</span><span class="n">firstAnnot</span>                <span class="c1"># get the annotation</span>
<span class="n">annot</span><span class="o">.</span><span class="n">setBorder</span><span class="p">({</span><span class="s2">&quot;dashes&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">]})</span>       <span class="c1"># set dashes to &quot;3 on, 3 off ...&quot;</span>

<span class="c1"># set border / popup color to blue and fill color to light blue</span>
<span class="n">annot</span><span class="o">.</span><span class="n">setColors</span><span class="p">({</span><span class="s2">&quot;common&quot;</span><span class="p">:[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="s2">&quot;fill&quot;</span><span class="p">:[</span><span class="mf">0.75</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.95</span><span class="p">]})</span>
<span class="n">info</span> <span class="o">=</span> <span class="n">annot</span><span class="o">.</span><span class="n">info</span>                      <span class="c1"># get info dict</span>
<span class="n">info</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Jorj X. McKie&quot;</span>        <span class="c1"># author name in popup title</span>

<span class="c1"># text in popup window ...</span>
<span class="n">info</span><span class="p">[</span><span class="s2">&quot;content&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;I changed border and colors and enlarged the image by 20%.&quot;</span>
<span class="n">info</span><span class="p">[</span><span class="s2">&quot;subject&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Demonstration of PyMuPDF&quot;</span>     <span class="c1"># some readers also show this</span>
<span class="n">annot</span><span class="o">.</span><span class="n">setInfo</span><span class="p">(</span><span class="n">info</span><span class="p">)</span>                    <span class="c1"># update info dict</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">annot</span><span class="o">.</span><span class="n">rect</span>                         <span class="c1"># take annot rect</span>
<span class="n">r</span><span class="o">.</span><span class="n">x1</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">x0</span> <span class="o">+</span> <span class="n">r</span><span class="o">.</span><span class="n">width</span>  <span class="o">*</span> <span class="mf">1.2</span>           <span class="c1"># new location has same top-left</span>
<span class="n">r</span><span class="o">.</span><span class="n">y1</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">y0</span> <span class="o">+</span> <span class="n">r</span><span class="o">.</span><span class="n">height</span> <span class="o">*</span> <span class="mf">1.2</span>           <span class="c1"># but 20% longer sides</span>
<span class="n">annot</span><span class="o">.</span><span class="n">setRect</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>                       <span class="c1"># update rectangle</span>
<span class="n">annot</span><span class="o">.</span><span class="n">updateImage</span><span class="p">()</span>                    <span class="c1"># update appearance</span>
<span class="n">doc</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;circle-out.pdf&quot;</span><span class="p">,</span> <span class="n">garbage</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>  <span class="c1"># save</span>
</pre></div>
</div>
<p>This is how the circle annotation looks before and after the change:</p>
<img alt="_images/circle-1.png" src="_images/circle-1.png" />
<img alt="_images/circle-2.png" src="_images/circle-2.png" />
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="colorspace.html" class="btn btn-neutral float-right" title="Colorspace" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="classes.html" class="btn btn-neutral" title="Classes" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Jorj X. McKie.
      Last updated on 15. Dec 2016.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.10.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>